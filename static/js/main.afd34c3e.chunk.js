(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{1373:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),s=c.n(a),i=c(28),r=c.n(i),o=(c(38),c(39),c(6)),l=c(10),j=c(2),u=c(8),d=c(17),m=c(19),b=s.a.memo((function(e){var t=e.width,c=e.height,a=e.keyword,s=void 0===a?"":a,i=Object(m.a)(e,["width","height","keyword"]),r=encodeURI(s);return Object(n.jsx)("img",Object(d.a)({src:"https://source.unsplash.com/random/".concat("".concat(t,"x").concat(c),"?",r),alt:"placeholder"},i))})),h=c(9),x=s.a.createContext();function O(){var e=Object(u.a)(["\n  max-width: 450px;\n  width: 100%;\n"]);return O=function(){return e},e}function p(){var e=Object(u.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n"]);return p=function(){return e},e}var f=h.a.footer(p()),v=h.a.div(O()),N=function(e){var t=e.product,c=e.product,s=c.name,i=c.description,r=c.price,o=Object(a.useContext)(x);return Object(n.jsx)("div",{className:"column is-one-third-desktop is-half-tablet is-flex is-justify-content-center",children:Object(n.jsxs)(v,{className:"card h-100 pb-6",children:[Object(n.jsx)("div",{className:"card-image",children:Object(n.jsx)("figure",{className:"image is-4by3",children:Object(n.jsx)(b,{width:600,height:450,keyword:t.name})})}),Object(n.jsxs)("div",{className:"card-content",children:[Object(n.jsx)("h3",{className:"title is-4",children:s}),Object(n.jsx)("h4",{className:"subtitle is-5",children:i})]}),Object(n.jsxs)(f,{className:"card-footer",children:[Object(n.jsxs)("div",{className:"card-footer-item",children:["$",r]}),Object(n.jsx)("button",{className:"card-footer-item button is-primary h-100",onClick:function(){return o.dispatch({type:"increment",item:t})},children:"Add to Cart"})]})]})})},g=c(11),y=c.n(g),w=s.a.createContext({name:y.a.company.companyName(),phrase:y.a.company.catchPhrase()}),C=s.a.createContext([]),k=function(){var e=Object(a.useContext)(w),t=Object(a.useContext)(C);return Object(a.useEffect)((function(){document.title=e.name})),Object(n.jsxs)("main",{children:[Object(n.jsx)("section",{className:"hero is-primary is-medium",children:Object(n.jsx)("div",{className:"hero-body",children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{className:"title is-1",children:e.name}),Object(n.jsx)("h2",{className:"subtitle",children:e.phrase})]})})}),Object(n.jsxs)("section",{className:"section container",children:[Object(n.jsxs)("div",{className:"is-flex is-align-items-center mb-2",children:[Object(n.jsx)("h1",{className:"title mb-0 mr-2 is-2",children:"Featured Items"}),Object(n.jsx)(l.b,{to:"shop",className:"button is-info",children:"Shop"})]}),Object(n.jsx)("div",{className:"box",children:Object(n.jsx)("div",{className:"columns mx-3 is-multiline is-centered",children:t.slice(0,3).map((function(e){return Object(n.jsx)(N,{product:e},e.id)}))})})]})]})},F=function(e){Object(a.useEffect)((function(){var t=document.title;return document.title="".concat(e," - ").concat(t),function(){document.title=t}}))},S=function(){var e=Object(a.useContext)(C);return F("Shop"),Object(n.jsx)("div",{className:"container mt-4",children:Object(n.jsx)("div",{className:"box",children:Object(n.jsx)("div",{className:"columns mx-3 is-multiline",children:e.map((function(e){return Object(n.jsx)(N,{product:e},e.id)}))})})})};function q(){var e=Object(u.a)(["\n  background: none;\n  border: 0;\n"]);return q=function(){return e},e}var P=h.a.button(q()),A=function(e){var t=e.onClick,c=e.active;return Object(n.jsxs)(P,{className:"navbar-burger ".concat(c?"is-active":""),"aria-label":"menu","aria-expanded":c,onClick:t,children:[Object(n.jsx)("span",{"aria-hidden":"true"}),Object(n.jsx)("span",{"aria-hidden":"true"}),Object(n.jsx)("span",{"aria-hidden":"true"})]})},$=c(12),z=function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];return function(e,c){return!!e||t.includes(c.pathname)}},E=function(e){return Object($.a)(e.values()).reduce((function(e,t){return e+t}),0)},I=function(e){return Object($.a)(e).reduce((function(e,t){var c=Object(o.a)(t,2),n=c[0].price,a=c[1];return e+Number(n)*a}),0)},T=function(e){return window.confirm("Are you sure you want to remove ".concat(e.name," from your cart?"))},D=function(e){var t=e.active,c=e.setActive,s=Object(a.useContext)(x);return Object(n.jsxs)("div",{className:"navbar-menu ".concat(t?"is-active":""),children:[Object(n.jsxs)("div",{className:"navbar-start",children:[Object(n.jsx)(l.c,{to:"/home",className:"navbar-item",activeClassName:"is-active",isActive:z("/"),onClick:function(){return c(!1)},replace:!0,children:"Home"}),Object(n.jsx)(l.c,{to:"/shop",className:"navbar-item",activeClassName:"is-active",onClick:function(){return c(!1)},replace:!0,children:"Shop"})]}),Object(n.jsx)("div",{className:"navbar-end",children:Object(n.jsxs)(l.c,{to:"/cart",className:"navbar-item",activeClassName:"is-active",onClick:function(){return c(!1)},replace:!0,children:["Items in cart: ",E(s.state)]})})]})},M=function(){var e=Object(a.useContext)(w),t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],i=c[1];return Object(n.jsxs)("nav",{className:"navbar is-light is-fixed-top",children:[Object(n.jsxs)("div",{className:"navbar-brand",children:[Object(n.jsx)("div",{className:"navbar-item",children:Object(n.jsx)(l.b,{to:"/",className:"title is-primary",children:e.name})}),Object(n.jsx)(A,{active:s,onClick:function(){i(!s)}})]}),Object(n.jsx)(D,{active:s,setActive:i})]})};function R(){var e=Object(u.a)(["\n  height: 1em;\n  width: 1em;\n"]);return R=function(){return e},e}var Y=h.a.button(R()),B=function(e){var t=e.children,c=e.colorClass,a=Object(m.a)(e,["children","colorClass"]);return Object(n.jsx)(Y,Object(d.a)(Object(d.a)({className:"button is-large p-0 ml-1 is-outlined ".concat(c)},a),{},{children:t}))};function J(){var e=Object(u.a)(["\n  -moz-appearance: textfield;\n  height: 1.5em;\n  width: 2.5em;\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n"]);return J=function(){return e},e}var L=h.a.input(J()),H=function(e){var t=e.product,c=e.quantity,s=Object(a.useContext)(x),i=Object(a.useRef)(),r=Object(a.useState)(!1),l=Object(o.a)(r,2),j=l[0],u=l[1];Object(a.useEffect)((function(){j&&(i.current.focus(),i.current.select()),u(!1)}),[j]);return Object(n.jsxs)("form",{className:"nowrap",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"".concat(t.id,"-quantity"),children:Object(n.jsx)("strong",{className:"mr-1",children:"Quantity:"})}),Object(n.jsx)(L,{type:"number",className:"input has-text-right px-2",min:"0",max:"99",id:"".concat(t.id,"-quantity"),value:c,ref:i,onChange:function(e){if(""!==e.target.value){var c=Number(e.target.value);(0!==c||T(t))&&c<=99&&s.dispatch({type:"set",item:t,quantity:c})}else u(!0)}})]}),Object(n.jsxs)("span",{children:[Object(n.jsx)(B,{colorClass:"has-text-success",onClick:function(e){e.preventDefault(),s.state.get(t)<99&&s.dispatch({type:"increment",item:t})},children:"+"}),Object(n.jsx)(B,{colorClass:"has-text-danger",onClick:function(e){e.preventDefault(),(1!==s.state.get(t)||T(t))&&s.dispatch({type:"decrement",item:t})},children:"-"})]})]})},Q=function(e){var t=e.product,c=e.quantity,s=Object(a.useContext)(x);return Object(n.jsx)("div",{className:"box",children:Object(n.jsxs)("div",{className:"is-flex is-align-items-center is-justify-content-around w-100 is-flex-wrap-wrap",children:[Object(n.jsxs)("div",{className:"flex-1 is-flex is-align-items-center",children:[Object(n.jsx)(b,{width:25,height:25,keyword:t.name,className:"mr-1"}),Object(n.jsx)("strong",{className:"white-space-nowrap",children:t.name})]}),Object(n.jsxs)("div",{className:"is-flex is-align-items-center",children:[Object(n.jsx)(H,{product:t,quantity:c}),Object(n.jsx)("span",{className:"mx-1",children:"@"}),Object(n.jsxs)("span",{className:"has-text-weight-bold",children:["$",t.price]}),Object(n.jsx)("button",{className:"delete ml-1",onClick:function(){return T(t)&&s.dispatch({type:"remove",item:t})},children:"Remove"})]})]})})},U=function(e){var t=e.cart,c=t.state,a=t.dispatch;return Object($.a)(c).map((function(e){var t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(n.jsx)(Q,{product:c,quantity:s,dispatch:a},c.id)}))};function G(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  min-width: 15em;\n"]);return G=function(){return e},e}var K=h.a.div(G()),V=function(){var e=Object(a.useContext)(x),t=0===e.state.size,c=Object(j.f)();F("Cart");return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"mx-3",children:t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:"title is-2 has-text-centered my-3 mx-3",children:"Your Cart"}),Object(n.jsx)("p",{className:"has-text-centered",children:"Your cart is empty :("})]}):Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"is-flex is-align-items-flex-start is-flex-wrap-wrap",children:[Object(n.jsxs)("div",{className:"is-flex-grow-5",children:[Object(n.jsx)("h1",{className:"title is-2 has-text-centered my-3",children:"Your Cart"}),Object(n.jsx)(U,{cart:e})]}),Object(n.jsxs)("div",{className:"is-flex-grow-1",children:[Object(n.jsx)("h1",{className:"title is-2 has-text-centered my-3",children:"Totals"}),Object(n.jsxs)(K,{className:"box mx-3",children:[Object(n.jsxs)("div",{className:"is-size-5",children:[Object(n.jsx)("span",{className:"mr-2",children:"Subtotal:"}),Object(n.jsxs)("strong",{children:["$",I(e.state).toFixed(2)]})]}),Object(n.jsxs)("div",{className:"is-size-5",children:[Object(n.jsx)("span",{className:"mr-2",children:"Tax (10%):"}),Object(n.jsxs)("strong",{children:["$",(.1*I(e.state)).toFixed(2)]})]}),Object(n.jsxs)("div",{className:"is-size-5",children:[Object(n.jsx)("span",{className:"mr-2",children:"Total:"}),Object(n.jsxs)("strong",{children:["$",(1.1*I(e.state)).toFixed(2)]})]}),Object(n.jsx)("button",{className:"button is-info is-align-self-stretch mt-2",onClick:function(){var t="Your order will be placed for $".concat(I(e.state).toFixed(2)," and your cart will be emptied. Do you wish to continue?");window.confirm(t)&&(e.dispatch({type:"empty"}),c.push("/shop"))},children:"Place order"})]})]})]})})})})},W=function(){return Object(n.jsxs)(l.a,{children:[Object(n.jsx)(M,{}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",children:Object(n.jsx)(k,{})}),Object(n.jsx)(j.a,{exact:!0,path:"/home",children:Object(n.jsx)(k,{})}),Object(n.jsx)(j.a,{exact:!0,path:"/shop",children:Object(n.jsx)(S,{})}),Object(n.jsx)(j.a,{exact:!0,path:"/cart",children:Object(n.jsx)(V,{})})]})]})},X=c(32),Z=c.n(X),_=new Map,ee=function(e,t,c){return c<=0?te(e,t):new Map([].concat(Object($.a)(e),[[t,c]]))},te=function(e,t){return new Map(Object($.a)(e).filter((function(e){var c=Object(o.a)(e,2),n=c[0];c[1];return n!==t})))},ce={initialState:_,reducer:function(e,t){switch(t.type){case"set":return ee(e,t.item,t.quantity);case"remove":return te(e,t.item);case"increment":return function(e,t){var c=e.get(t)||0;return ee(e,t,c+1)}(e,t.item);case"decrement":return function(e,t){var c=e.get(t);return c?ee(e,t,c-1):e}(e,t.item);case"empty":return _}}},ne={name:y.a.company.companyName(),phrase:y.a.company.catchPhrase()},ae=new Array(21).fill().map((function(){return{id:Z()(),name:y.a.commerce.productName(),description:y.a.lorem.words(5),price:y.a.commerce.price(1,100,2)}})),se=function(){var e=function(){var e=Object(a.useReducer)(ce.reducer,ce.initialState),t=Object(o.a)(e,2);return{state:t[0],dispatch:t[1]}}();return Object(a.useEffect)((function(){document.title=ne.name})),Object(n.jsx)(w.Provider,{value:ne,children:Object(n.jsx)(C.Provider,{value:ae,children:Object(n.jsx)(x.Provider,{value:e,children:Object(n.jsx)(W,{})})})})},ie=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,1374)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(se,{})}),document.getElementById("root")),ie()},39:function(e,t,c){}},[[1373,1,2]]]);
//# sourceMappingURL=main.afd34c3e.chunk.js.map